#### host, target, and site specific Makefile frags come in here.

srcdir = .
CFLAGS = -g

.PHONY: all clean mostlyclean distclean realclean

# return is commented out because it has only been tested on sun4 and pa and
# we don't currently have a testsuite maintainer.
EXECUTABLES=gdbme mips_pro # return

all: $(EXECUTABLES)

gdbme: gdbme.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o gdbme gdbme.o $(LIBS)

gdbme.o: gdbme.c
	$(CC) $(CFLAGS) -c $(srcdir)/gdbme.c

return: return.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o return return.o $(LIBS)

return.o: return.c
	$(CC) $(CFLAGS) -c $(srcdir)/return.c

mips_pro: mips_pro.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o mips_pro mips_pro.o $(LIBS)

mips_pro.o: mips_pro.c
	$(CC) $(CFLAGS) -c $(srcdir)/mips_pro.c

clean mostlyclean:
	-rm -f *.o *.diff *~ *.bad core foo $(EXECUTABLES) return

distclean realclean: clean
	-rm -f Makefile config.status

Makefile: $(srcdir)/Makefile.in $(host_makefile_frag) $(target_makefile_frag)
	$(SHELL) ./config.status
