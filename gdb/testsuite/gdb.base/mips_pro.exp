if $tracelevel then {
	strace $tracelevel
}

set prms_id 0
set bug_id 0

gdb_reinitialize_dir $srcdir/$subdir
set binfile $objdir/$subdir/mips_pro

if ![file exists $binfile] then {
    perror "$binfile does not exist."
    return 0
}

gdb_load $binfile
if [runto middle] then {
    # PR 3016
    gdb_test "backtrace" "#0.*middle.*#1.*top.*#2.*main"
}
return 0
