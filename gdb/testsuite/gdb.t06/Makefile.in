#### host, target, and site specific Makefile frags come in here.

srcdir = .
CFLAGS = -g

.PHONY: all clean mostlyclean distclean realclean

EXECUTABLES = gdbme signals twice
all: $(EXECUTABLES)

gdbme: gdbme.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o gdbme gdbme.o $(LIBS)
gdbme.o: gdbme.c
signals: signals.o
	${CC} ${CFLAGS} ${LDFLAGS} -o signals signals.o ${LIBS}
signals.o: signals.c

twice: twice.c
	echo '#include "twice.c"' >twice-tmp.c
	$(CC) $(CFLAGS) $(LDFLAGS) -I$(srcdir) -o twice twice-tmp.c $(LIBS)
	rm -f twice-tmp.c

clean mostlyclean:
	-rm -f *.o $(EXECUTABLES) *.diff *~ *.bad core foo twice-tmp.c

distclean realclean: clean
	-rm -f Makefile config.status

Makefile: $(srcdir)/Makefile.in $(host_makefile_frag) $(target_makefile_frag)
	$(SHELL) ./config.status
