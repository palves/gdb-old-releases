# This Makefile is used to create several test cases for Tcl's load
# command.  It also illustrates how to take advantage of configuration
# exported by Tcl to set up Makefiles for shared libraries.

VPATH = @srcdir@

SHLIB_CFLAGS =		@SHLIB_CFLAGS@
SHLIB_LD =		@SHLIB_LD@
SHLIB_SUFFIX =		@SHLIB_SUFFIX@
CC = @CC@
SRC_DIR =		@srcdir@

CFLAGS = -g -I${SRC_DIR}/../../generic -DTCL_MEM_DEBUG ${SHLIB_CFLAGS}

all: pkg1${SHLIB_SUFFIX} pkg2${SHLIB_SUFFIX} pkg3${SHLIB_SUFFIX} pkg4${SHLIB_SUFFIX} pkg5${SHLIB_SUFFIX}

pkg1${SHLIB_SUFFIX}: pkg1.o
	${SHLIB_LD} pkg1.o -o pkg1${SHLIB_SUFFIX}

pkg2${SHLIB_SUFFIX}: pkg2.o
	${SHLIB_LD} pkg2.o -o pkg2${SHLIB_SUFFIX}

pkg3${SHLIB_SUFFIX}: pkg3.o
	${SHLIB_LD} pkg3.o -o pkg3${SHLIB_SUFFIX}

pkg4${SHLIB_SUFFIX}: pkg4.o
	${SHLIB_LD} pkg4.o -o pkg4${SHLIB_SUFFIX}

pkg5${SHLIB_SUFFIX}: pkg5.o
	${SHLIB_LD} pkg5.o -o pkg5${SHLIB_SUFFIX}

mostlyclean: clean

clean:
	rm -f *.o *${SHLIB_SUFFIX}

distclean: clean
	rm -f Makefile config.cache config.log config.status

maintainer-clean: distclean

.c.o:
	$(CC) -c $(CFLAGS) $<
