'\"
'\" Copyright (c) 1995 Sun Microsystems, Inc.
'\"
'\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" 
.so man.macros
.TH Tk_NotifyDisplay 3 4.0 Tk "Tk Library Procedures"
.BS
.SH NAME
Tk_NotifyDisplay, Tk_IgnoreDisplay, Tk_NotifyFile, Tk_IgnoreFile, Tk_NotifyTimer \- register/unregister interest in different event types
.SH SYNOPSIS
.nf
\fB#include <tk.h>\fR
.sp
\fBTk_NotifyDisplay(\fIdisplay\fB)\fR
.sp
\fBTk_IgnoreDisplay(\fIdisplay\fB)\fR
.sp
\fBTk_NotifyFile(\fIid, mask\fB)\fR
.sp
\fBTk_IgnoreFile(\fIid\fB)\fR
.sp
\fBTk_NotifyTimer(\fItime\fB)\fR
.SH ARGUMENTS

.AS Display *display
.AP int id in
Integer identifier for an open file or device (such as returned by
\fBopen\fR system call).
.AP int mask in
Conditions under which file events should be generated:
OR-ed combination of \fBTK_READABLE\fR, \fBTK_WRITABLE\fR,
and \fBTK_EXCEPTION\fR.
.AP Display *display in
Display that notifier should register/unregister.
.AP Tk_Time *time in
Absolute time, in elapsed seconds and microseconds since 00:00 GMT,
January 1, 1970, when the notifier should generate a timer event.
.BE

.SH DESCRIPTION
.PP
These procedures, in conjunction with \fBTk_DoOneEvent\fR and
\fBTk_Sleep\fR, comprise the system-dependent \fInotifier\fR subsystem
of Tk.  The notifier is responsible for checking sources of events
(files, the window system, timers, etc.) and passing event information
to the main part of Tk when events occur.  Events are reported in
different ways on different platforms, so the notifier interface is
designed to allow different implementations of the notifier without
changing the rest of Tk.  The notifier can also be replaced to allow
Tk to be integrated with the event loop from another toolkit such as
Xt.  The procedures described here are implemented by the notifier and
called by Tk so that the notifier knows what events Tk cares about.
When \fBTk_DoOneEvent\fR is called later, it checks for the events of
interest and calls other procedures in Tk to handle the events (see
the \fBTk_QueueEvent\fR manual entry for information on these
procedures).
.PP
\fBTk_NotifyFile\fR tells the notifier that Tk should be notified the
next time I/O becomes possible on a file or if an exceptional
condition exists for a file.  The file is indicated by \fIid\fR, and
the conditions of interest are indicated by \fImask\fR.  For example,
if \fImask\fR is \fBTK_READABLE\fR, notification will occur when the
file is readable.  Note that this procedure is a one-shot
registration.  Once the event has been sent, \fBTk_DoOneEvent\fR will
not consider any more events for the file until after the next call to
\fBTk_NotifyFile\fR.  If \fBTk_NotifyFile\fR is called for a file
which is still registered, the new value of \fImask\fR replaces the
previous one.
.PP
\fBTk_IgnoreFile\fR cancels a prior call to \fBTk_NotifyFile\fR
so the notifier will stop looking for events on the I/O channel given
by \fIid\fR.  If an event has already been sent for the file since the
last call to \fBTk_NotifyFile\fR, then \fBTk_IgnoreFile\fR has
no effect.
.PP
\fBTk_NotifyDisplay\fR arranges for the notifier to monitor the X
connection to \fIdisplay\fR and generate window events.  This
procedure will be called by Tk when it first connects to a given
display.  Note that this is not a one-shot registration.  The notifier
will continue to notify Tk of window events until Tk explicitly tells
it to stop.
.PP
\fBTk_IgnoreDisplay\fR arranges for the notifier to stop notifying Tk
of events from the given X \fIdisplay\fR.
.PP
\fBTk_NotifyTimer\fR arranges for the notifier to generate a timer event
at a particular time in the future specified by the \fItime\fR
argument.  Like \fBTk_NotifyFile\fR, this is a one-shot
registration.  There is only one outstanding timer, so if
\fBTk_NotifyTimer\fR is invoked before the previous timer has expired,
the new timer value will replace the previous value. Only one timer
event will be generated after the timer expires.  See the
\fBTk_QueueEvent\fR manual page for more details on the \fBTk_Time\fR
structure. 

.SH KEYWORDS
ignore, notify, file, display, timer
